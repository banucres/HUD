pipeline {
    agent any
    paprameters{
        string(name: 'SPEC',defaultValue: "cypress/integration/**/**",description: "Enter the script path")
        choice(name: 'BROWSER',choices: ['chrome','edge'],description: "choice the browser where you can execute.")
    }
    options {
        // Timeout counter starts AFTER agent is allocated
        // timeout(time: 1, unit: 'SECONDS')
        ansiColor('xterm')
    }
    stages {
        stage('Build') {
            steps {
                echo 'Building application'
            }
        }
        stage('Testing') {
            steps {
                bat "npm i"
                bat "npx cypress run --browser ${BROWSER} --spec ${SPEC}"
            }
        }
         stage('Deploy') {
            steps {
                echo 'Deploying'
            }
        }
       
    }
}